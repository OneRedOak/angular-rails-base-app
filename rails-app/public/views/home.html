<div data-ng-controller="MainCtrl as mainCtrl">

  <div class="page-header">
    <h1>Posts</h1>
    	<!-- Button trigger modal -->
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
	  Create a New Post
	</button>

	  <div class="col-sm-4 pull-right">
	  	<input class="form-control" ng-model="search.title" placeholder="Search posts">
	  </div>

  </div>

  <div class="well" ng-repeat="post in mainCtrl.posts | filter:search:strict">
  	<a href="{{post.link || '#/post/' + post.id}}"><h3>{{post.title}}</h3></a>
  	<a href="{{'#/post/' + post.id}}">Comments ({{post.comments.length || 0}})</a>
  </div>

  <!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Create a New Post</h4>
	      </div>
	      <div class="modal-body">
	      	<form class="form-horizontal">
			  <div class="form-group">
			    <label for="title" class="col-sm-2 control-label">Title</label>
			    <div class="col-sm-10">
			      <input type="text" ng-model="mainCtrl.newPost.title" class="form-control" placeholder="Title">
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="link" class="col-sm-2 control-label">Link</label>
			    <div class="col-sm-10">
			      <input type="text" ng-model="mainCtrl.newPost.link" class="form-control" placeholder="Link">
			    </div>
			  </div>
			  <div class="form-group">
			  	<label for="text" class="col-sm-2 control-label" >Text</label>
			    <div class="col-sm-10">
			  		<textarea class="form-control" rows="3"  ng-model="mainCtrl.newPost.text" placeholder="If no link is provided, write text here."></textarea>
			    </div>
			  </div>
		  	</form>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button ng-click="mainCtrl.submitNewPost()" type="button" class="btn btn-primary">Submit Post</button>
	      </div>
	    </div>
	  </div>
	</div>

</div>